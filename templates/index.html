<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>AI Customer Chatbot</title>
<style>
 :root{--bg:#ffffff;--fg:#000000;--panel:#f5f5f5;--accent:#008cff}
 .dark{--bg:#1e1e1e;--fg:#f1f1f1;--panel:#2b2b2b;--accent:#4499ff}

 body{
   background:var(--bg);color:var(--fg);
   font-family:system-ui,-apple-system,"Segoe UI",sans-serif;
   max-width:780px;margin:40px auto;line-height:1.5;transition:.3s}
 h2{display:flex;justify-content:space-between;align-items:center;margin-bottom:18px}
 #chat{
   background:var(--panel);border:1px solid #555;border-radius:12px;
   height:340px;overflow:auto;padding:18px}
 textarea{
   width:100%;min-height:60px;max-height:180px;resize:vertical;
   padding:10px;border:1px solid #555;border-radius:12px;
   font-family:inherit;font-size:15px;color:var(--fg);
   background:var(--panel);outline:none}
 button,select{
   padding:10px 16px;border:none;border-radius:12px;
   font-weight:bold;cursor:pointer;transition:.2s}
 button{background:var(--accent);color:#fff}
 button:hover{background:#0069d9}
 select{
   background:var(--panel);color:var(--fg);border:1px solid #555}
 #modeBtn{
   background:transparent;border:none;font-size:18px;color:var(--accent);cursor:pointer}
 #spinner{display:none;width:48px;height:14px;position:relative;margin-left:12px}
 #spinner div{position:absolute;width:10px;height:10px;border-radius:50%;
              background:var(--accent);animation:bounce .8s infinite}
 #spinner div:nth-child(2){left:16px;animation-delay:.1s}
 #spinner div:nth-child(3){left:32px;animation-delay:.2s}
 @keyframes bounce{0%,80%,100%{transform:scale(0)}40%{transform:scale(1)}}
 .hidden{display:none}

 /* --- admin panel --- */
 #adminPanel{
   background:var(--panel);border:1px dashed var(--accent);
   border-radius:12px;padding:14px;margin-top:24px}
 #adminPanel h3{margin-top:0;font-size:17px}
 #closeAdmin{background:transparent;border:none;font-size:18px;
             color:var(--accent);cursor:pointer;float:right}
</style>
</head>
<body>
<h2>
  <span>AI Customer Chatbot</span>
  <button id="modeBtn">ðŸŒ™</button>
</h2>

<div id="chat"></div><br>

<textarea id="msg" placeholder="Type a questionâ€¦"></textarea><br>
<div style="display:flex;align-items:center;gap:8px;margin-top:8px">
  <button id="send">Send</button>
  <span id="spinner"><div></div><div></div><div></div></span>
</div>

<!-- toggle button BELOW chat -->
<button id="adminToggle" style="margin-top:20px;background:var(--panel);color:var(--accent);border:1px solid var(--accent)">
  Admin Panel
</button>

<!-- ADMIN PANEL -->
<div id="adminPanel" class="hidden">
  <h3>Admin Panel <button id="closeAdmin">âœ–</button></h3>

  <label>Model:
    <select id="modelSel">
      <option value="gpt-4o" selected>GPT-4o</option>
      <option value="gpt-4o-mini">GPT-4o Mini</option>
      <option value="gpt-3.5-turbo">GPT-3.5 Turbo</option>
    </select>
  </label>

  <hr style="margin:16px 0">

  <form id="faqForm" style="margin-bottom:10px">
    <label>Upload FAQ (.txt):
      <input type="file" id="faqFile" accept=".txt">
    </label>
    <button type="submit">Upload</button>
  </form>
  <p id="uploadStatus"></p>

  <button id="clearBtn" style="background:#ff5252">Clear Conversation & FAQ</button>
</div>

<script src="{{ url_for('static', filename='chat.js') }}"></script>
</body>
</html>
